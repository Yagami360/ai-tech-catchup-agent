name: 'ğŸ¤– Gemini CLI - On-Demand Assistant'

on:
  issue_comment:
    types: [created]
  pull_request_review_comment:
    types: [created]

jobs:
  gemini-assistant:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      pull-requests: write
      issues: write
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Run Gemini CLI
        uses: google-github-actions/run-gemini-cli@v0
        with:
          gemini_api_key: ${{ secrets.GEMINI_API_KEY }}
          gemini_model: ${{ vars.GEMINI_MODEL }}
          workflow: on-demand
          prompt: |-
            ã‚ãªãŸã¯ AI æŠ€è¡“ã«è©³ã—ã„ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚

            ã€æŒ‡ç¤ºã€‘
            - å¿…ãšæ—¥æœ¬èªã§å›ç­”ã—ã¦ãã ã•ã„
            - Issue ã‚„ PR ã®å†…å®¹ã‚’ç†è§£ã—ã€å…·ä½“çš„ã§æ¤œè¨¼å¯èƒ½ãªæƒ…å ±ã‚’æä¾›ã—ã¦ãã ã•ã„
            - ãƒ¬ãƒãƒ¼ãƒˆå†…å®¹ã«é–¢ã™ã‚‹è³ªå•ã®å ´åˆã¯ã€Issue æœ¬æ–‡ã®å†…å®¹ã«åŸºã¥ã„ã¦å›ç­”ã—ã¦ãã ã•ã„
            - æŠ€è¡“çš„ãªè³ªå•ã«ã¯ã€è©³ç´°ãªèª¬æ˜ã¨å‚è€ƒãƒªãƒ³ã‚¯ã‚’å«ã‚ã¦ãã ã•ã„
            - å¿…è¦ã«å¿œã˜ã¦ã€è¿½åŠ ã®èª¿æŸ»ã‚„æƒ…å ±æºã‚’ææ¡ˆã—ã¦ãã ã•ã„
            - å›ç­”ã¯æ˜ç¢ºã§åˆ†ã‹ã‚Šã‚„ã™ãæ§‹é€ åŒ–ã—ã¦ãã ã•ã„
